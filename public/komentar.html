<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KOMENTAR BY YUDZXML</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Styling untuk input rating bintang */
      .rating-input {
        display: flex;
        flex-direction: row-reverse;
        justify-content: flex-start;
        font-size: 100rem;
        margin-bottom: 0.5rem;
        margin-left: 3.7rem;
        margin-right: 15rem;
      }
      .rating-input input {
        display: none;
      }
      .rating-input label {
        cursor: pointer;
        color: #ccc;
        transition: color 0.2s;
      }
      .rating-input label:hover,
      .rating-input label:hover ~ label,
      .rating-input input:checked ~ label {
        color: gold;
      }

      /* Styling tampilan rating ketika menampilkan komentar */
      .star-rating {
        display: flex;
        align-items: center;
        margin-bottom: 0.5rem;
      }
      .star-rating .star {
        font-size: 1.25rem;
        color: gold;
        margin-right: 2px;
      }
      .star-rating .star.empty {
        color: #ccc;
      }

      /* Perbaikan tampilan kartu komentar agar lebih menarik */
      .card-testimoni {
        background: var(--card-bg, #fff);
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .card-testimoni:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .card-testimoni .content {
        font-family: 'Poppins', sans-serif;
      }
    </style>
  </head>
  <body>
    <!-- SIDEBAR -->
    <aside id="sidebar">
  <button id="sidebarClose" class="sidebar-close">×</button>
  <div class="sidebar-section">
    <button onclick="location.href='login.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">🔒</span> Admin Login
    </button>
    <button onclick="location.href='cart.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">🛒</span> Cek Keranjang
    </button>
    <button onclick="location.href='testimoni.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">⭐</span> Testimoni
    </button>
    <button onclick="location.href='promo.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">🏷️</span> Diskon Produk
    </button>
    <button onclick="location.href='komentar.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">💬</span> Komentar/Ratting
    </button>
    <button onclick="location.href='contact.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">✉️</span> Contact Admin
    </button>   
    <button onclick="location.href='uploader.html'" class="btn btn-primary sidebar-btn">
     <span class="icon">📤</span> Upload File
    </button>
    <button onclick="location.href='visitor.html'" class="btn btn-primary sidebar-btn">
          <span class="icon">👥</span> Static Pengunjung
        </button>
    <button onclick="location.href='donasi.html'" class="btn btn-primary sidebar-btn active">
          <span class="icon">💖</span> Donasi
        </button>       
    <button onclick="location.href='service.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">📜</span> Terms of Service
    </button>        
  </div>
</aside>

    <!-- HEADER -->
    <header class="site-header">
      <div class="container">
        <button id="sidebarToggle" class="sidebar-toggle">☰</button>
        <div class="header-left">
          <h1 class="logo">オ KOMENTAR PUBLIK</h1>
        </div>
        <div class="header-center">
          <input
            type="text"
            id="searchInput"
            placeholder="Cari produk..."
            autocomplete="off"
          />
        </div>
        <div class="header-right">
          <button
            id="darkModeToggle"
            class="dark-toggle"
            title="Toggle Dark Mode"
          >
            <div class="toggle-track">
              <span class="icon-sun">☀️</span>
              <span class="icon-moon">🌙</span>
            </div>
          </button>
          <button id="openCartBtn" class="icon-btn" title="Keranjang">🏠      
          </button>
        </div>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main
      class="container"
      style="flex-direction: column; align-items: stretch; padding-top: 2rem;"
    >
      <h2>Daftar Komentar</h2>

      <div
        id="commentsList"
        class="form-container"
        style="max-height: 400px; overflow-y: auto;"
      >
        <p id="loadingText">Memuat komentar…</p>
      </div>

      <div class="form-container" style="margin-top: 2rem;">
        <h3>Tambah Komentar Anda</h3>
        <form id="commentForm">
          <div class="form-group">
            <label for="username">Nama Anda:</label>
            <input
              type="text"
              id="username"
              name="username"
              placeholder="Masukkan nama Anda"
              required
            />
          </div>

          <!-- Input rating bintang 1–5 -->
          <div class="form-group">
            <label>Rating:</label>
            <div class="rating-input">
              <input type="radio" id="star5" name="rating" value="5" required />
              <label for="star5" title="5 bintang">★</label>
              <input type="radio" id="star4" name="rating" value="4" />
              <label for="star4" title="4 bintang">★</label>
              <input type="radio" id="star3" name="rating" value="3" />
              <label for="star3" title="3 bintang">★</label>
              <input type="radio" id="star2" name="rating" value="2" />
              <label for="star2" title="2 bintang">★</label>
              <input type="radio" id="star1" name="rating" value="1" />
              <label for="star1" title="1 bintang">★</label>
            </div>
          </div>

          <div class="form-group">
            <label for="commentText">Komentar:</label>
            <textarea
              id="commentText"
              name="commentText"
              placeholder="Tulis komentar Anda di sini…"
              required
            ></textarea>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Kirim Komentar</button>
          </div>
        </form>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container">
        <p>© 2025 YUDZXML Allright Reserved</p>
      </div>
    </footer>

    <script>
      const _0x383d22=_0x455e;(function(_0x22f358,_0x115480){const _0x35d76e=_0x455e,_0xbb79c0=_0x22f358();while(!![]){try{const _0x1ae2fe=parseInt(_0x35d76e(0xf7))/0x1*(-parseInt(_0x35d76e(0x118))/0x2)+-parseInt(_0x35d76e(0xda))/0x3*(-parseInt(_0x35d76e(0xd6))/0x4)+-parseInt(_0x35d76e(0x110))/0x5*(-parseInt(_0x35d76e(0xdc))/0x6)+-parseInt(_0x35d76e(0xfc))/0x7+-parseInt(_0x35d76e(0x112))/0x8+-parseInt(_0x35d76e(0xe5))/0x9*(parseInt(_0x35d76e(0xf5))/0xa)+parseInt(_0x35d76e(0xd2))/0xb*(parseInt(_0x35d76e(0xe9))/0xc);if(_0x1ae2fe===_0x115480)break;else _0xbb79c0['push'](_0xbb79c0['shift']());}catch(_0x5096dc){_0xbb79c0['push'](_0xbb79c0['shift']());}}}(_0x435f,0x8bc8b));const sidebar=document['getElementById'](_0x383d22(0xc9)),sidebarToggle=document[_0x383d22(0xcd)](_0x383d22(0xe4)),sidebarClose=document[_0x383d22(0xcd)](_0x383d22(0xc5)),openCartBtn=document[_0x383d22(0xcd)](_0x383d22(0x108));function _0x455e(_0x1806f5,_0x4594df){const _0x435fe8=_0x435f();return _0x455e=function(_0x455e25,_0x1dfdf2){_0x455e25=_0x455e25-0xc5;let _0xfc3094=_0x435fe8[_0x455e25];return _0xfc3094;},_0x455e(_0x1806f5,_0x4594df);}sidebarToggle[_0x383d22(0x10c)]('click',()=>{const _0x887dd3=_0x383d22;sidebar[_0x887dd3(0x106)][_0x887dd3(0x10f)](_0x887dd3(0x11a));}),sidebarClose[_0x383d22(0x10c)](_0x383d22(0xfd),()=>{const _0x2fe0e2=_0x383d22;sidebar['classList'][_0x2fe0e2(0xd0)]('open');});function _0x435f(){const _0x529bf3=['#555','margin','innerHTML','94407ukSSGb','space-between','639918NQsbBU','card-testimoni','0.5rem','button[type=submit]','message','preventDefault','rating','div','sidebarToggle','9KhtBLn','var(--color-text)','target','span','921324abNaIR','forEach','application/json','created_at','padding','Kirim\x20Komentar','checked','darkModeToggle','length','Nama,\x20rating,\x20dan\x20komentar\x20harus\x20diisi.','trim','body','10406520BMnsyp','index.html','4VVYgeH','getElementsByName','1rem','submit','Memuat\x20komentar…','4793110HzhkAu','click','Error\x20saat\x20memuat\x20komentar:\x20','loadingText','commentText','Gagal\x20mengirim\x20komentar:\x20','style','sort','stringify','star-rating','classList','commentsList','openCartBtn','#777','value','italic','addEventListener','content','DOMContentLoaded','add','5KNZeVP','toggle','6689472wVIVkm','querySelector','commentForm','/api','appendChild','medium','170336cdDFrD','dark-mode','open','statusText','<p\x20style=\x22color:\x20red;\x22>','marginBottom','textContent','href','sidebarClose','POST','display','short','sidebar','color','createElement','fontStyle','getElementById','empty','toLocaleString','remove','id-ID','451DuMBKT','</p>','info-row','disabled','28tMFLVv'];_0x435f=function(){return _0x529bf3;};return _0x435f();}const darkModeToggle=document['getElementById'](_0x383d22(0xf0));darkModeToggle[_0x383d22(0x10c)](_0x383d22(0xfd),()=>{const _0xbdb9ef=_0x383d22;document[_0xbdb9ef(0xf4)]['classList'][_0xbdb9ef(0x111)](_0xbdb9ef(0x119));}),openCartBtn[_0x383d22(0x10c)]('click',()=>{const _0x58f882=_0x383d22;window['location'][_0x58f882(0x11f)]=_0x58f882(0xf6);});const BASE_API_URL=_0x383d22(0x115),COMMENTS_ENDPOINT=BASE_API_URL+'/comments';function createCommentElement({username:_0x43995a,text:_0x1b7311,rating:_0x2a270b,created_at:_0x58b9d4}){const _0x4689d7=_0x383d22,_0x494ec4=document[_0x4689d7(0xcb)](_0x4689d7(0xe3));_0x494ec4['classList'][_0x4689d7(0x10f)](_0x4689d7(0xdd)),_0x494ec4[_0x4689d7(0x102)][_0x4689d7(0x11d)]=_0x4689d7(0xf9);const _0x4a9635=document[_0x4689d7(0xcb)](_0x4689d7(0xe3));_0x4a9635[_0x4689d7(0x106)][_0x4689d7(0x10f)](_0x4689d7(0x10d)),_0x4a9635[_0x4689d7(0x102)][_0x4689d7(0xed)]='1rem';const _0x52fcb8=document[_0x4689d7(0xcb)](_0x4689d7(0xe3));_0x52fcb8[_0x4689d7(0x106)][_0x4689d7(0x10f)](_0x4689d7(0xd4)),_0x52fcb8[_0x4689d7(0x102)][_0x4689d7(0xc7)]='flex',_0x52fcb8['style']['justifyContent']=_0x4689d7(0xdb),_0x52fcb8[_0x4689d7(0x102)]['marginBottom']=_0x4689d7(0xde);const _0x183238=document['createElement']('h4');_0x183238[_0x4689d7(0x11e)]=_0x43995a,_0x183238[_0x4689d7(0x102)][_0x4689d7(0xca)]=_0x4689d7(0xe6),_0x183238['style'][_0x4689d7(0xd8)]='0';const _0x333226=document['createElement'](_0x4689d7(0xe8));_0x333226[_0x4689d7(0x11e)]=new Date(_0x58b9d4)[_0x4689d7(0xcf)](_0x4689d7(0xd1),{'dateStyle':_0x4689d7(0x117),'timeStyle':_0x4689d7(0xc8)}),_0x333226[_0x4689d7(0x102)][_0x4689d7(0xcc)]=_0x4689d7(0x10b),_0x333226[_0x4689d7(0x102)][_0x4689d7(0xca)]=_0x4689d7(0x109),_0x52fcb8['appendChild'](_0x183238),_0x52fcb8[_0x4689d7(0x116)](_0x333226);const _0x35bc93=document[_0x4689d7(0xcb)](_0x4689d7(0xe3));_0x35bc93[_0x4689d7(0x106)]['add'](_0x4689d7(0x105));for(let _0x20c56b=0x1;_0x20c56b<=0x5;_0x20c56b++){const _0x4cb516=document[_0x4689d7(0xcb)](_0x4689d7(0xe8));_0x4cb516[_0x4689d7(0x106)][_0x4689d7(0x10f)]('star'),_0x20c56b<=_0x2a270b?_0x4cb516[_0x4689d7(0x11e)]='★':(_0x4cb516['textContent']='☆',_0x4cb516[_0x4689d7(0x106)][_0x4689d7(0x10f)](_0x4689d7(0xce))),_0x35bc93[_0x4689d7(0x116)](_0x4cb516);}const _0x417ccf=document[_0x4689d7(0xcb)]('p');return _0x417ccf[_0x4689d7(0x11e)]=_0x1b7311,_0x417ccf['style']['marginTop']=_0x4689d7(0xde),_0x417ccf[_0x4689d7(0x102)][_0x4689d7(0xca)]=_0x4689d7(0xd7),_0x4a9635[_0x4689d7(0x116)](_0x52fcb8),_0x4a9635[_0x4689d7(0x116)](_0x35bc93),_0x4a9635[_0x4689d7(0x116)](_0x417ccf),_0x494ec4[_0x4689d7(0x116)](_0x4a9635),_0x494ec4;}async function fetchComments(){const _0x57a635=_0x383d22,_0x3d2526=document['getElementById'](_0x57a635(0x107)),_0xea8343=document[_0x57a635(0xcd)](_0x57a635(0xff));_0xea8343[_0x57a635(0x11e)]=_0x57a635(0xfb);try{const _0x5cb96c=await fetch(COMMENTS_ENDPOINT);if(!_0x5cb96c['ok'])throw new Error(_0x57a635(0xfe)+_0x5cb96c[_0x57a635(0x11b)]);const _0x3a172c=await _0x5cb96c['json']();_0x3d2526[_0x57a635(0xd9)]='';if(_0x3a172c[_0x57a635(0xf1)]===0x0){_0x3d2526[_0x57a635(0xd9)]='<p>Belum\x20ada\x20komentar.</p>';return;}_0x3a172c[_0x57a635(0x103)]((_0x1e201c,_0x5057be)=>new Date(_0x5057be[_0x57a635(0xec)])-new Date(_0x1e201c['created_at'])),_0x3a172c[_0x57a635(0xea)](_0x308c2c=>{const _0x311b5c=createCommentElement(_0x308c2c);_0x3d2526['appendChild'](_0x311b5c);});}catch(_0x23be44){_0x3d2526[_0x57a635(0xd9)]=_0x57a635(0x11c)+_0x23be44[_0x57a635(0xe0)]+_0x57a635(0xd3);}}async function postComment(_0x238e7a){const _0x371143=_0x383d22;_0x238e7a[_0x371143(0xe1)]();const _0x499561=document['getElementById']('username'),_0x9500e9=document['getElementById'](_0x371143(0x100)),_0x3caf59=document[_0x371143(0xf8)](_0x371143(0xe2)),_0x34a16f=_0x238e7a[_0x371143(0xe7)][_0x371143(0x113)](_0x371143(0xdf)),_0x1a21a2=_0x499561[_0x371143(0x10a)][_0x371143(0xf3)](),_0x48e406=_0x9500e9[_0x371143(0x10a)][_0x371143(0xf3)]();let _0x376f97=null;for(const _0x27c45c of _0x3caf59){if(_0x27c45c[_0x371143(0xef)]){_0x376f97=Number(_0x27c45c[_0x371143(0x10a)]);break;}}if(!_0x1a21a2||!_0x48e406||_0x376f97===null){alert(_0x371143(0xf2));return;}_0x34a16f['disabled']=!![],_0x34a16f[_0x371143(0x11e)]='Mengirim…';const _0x543cab={'username':_0x1a21a2,'text':_0x48e406,'rating':_0x376f97};try{const _0x44eb9a=await fetch(COMMENTS_ENDPOINT,{'method':_0x371143(0xc6),'headers':{'Content-Type':_0x371143(0xeb)},'body':JSON[_0x371143(0x104)](_0x543cab)});if(!_0x44eb9a['ok'])throw new Error(_0x371143(0x101)+_0x44eb9a['statusText']);_0x499561[_0x371143(0x10a)]='',_0x9500e9[_0x371143(0x10a)]='';for(const _0x175d68 of _0x3caf59){_0x175d68[_0x371143(0xef)]=![];}await fetchComments();}catch(_0x42aa98){alert(_0x42aa98['message']);}finally{_0x34a16f[_0x371143(0xd5)]=![],_0x34a16f[_0x371143(0x11e)]=_0x371143(0xee);}}document[_0x383d22(0x10c)](_0x383d22(0x10e),()=>{const _0x17245a=_0x383d22;fetchComments();const _0x40c4aa=document['getElementById'](_0x17245a(0x114));_0x40c4aa[_0x17245a(0x10c)](_0x17245a(0xfa),postComment);});
    </script>
  </body>
</html>