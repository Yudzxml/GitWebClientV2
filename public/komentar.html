<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KOMENTAR BY YUDZXML</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      .rating-input {
        display: flex;
        flex-direction: row-reverse;
        justify-content: flex-start;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        margin-left: 3.7rem;
        margin-right: 15rem;
      }
      .rating-input input { display: none; }
      .rating-input label {
        cursor: pointer;
        color: #ccc;
        transition: color 0.2s;
      }
      .rating-input label:hover,
      .rating-input label:hover ~ label,
      .rating-input input:checked ~ label {
        color: gold;
      }

      .star-rating {
        display: flex;
        align-items: center;
        margin-bottom: 0.5rem;
      }
      .star-rating .star {
        font-size: 1.25rem;
        margin-right: 2px;
      }
      .star-rating span {
        font-size: 1.25rem;
        margin-right: 2px;
        color: gold;
        
      }
      .star-rating .empty {
        color: #ccc;
      }

      .card-testimoni {
        background: var(--card-bg, #fff);
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 1rem;
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .card-testimoni:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .card-testimoni .content {
        font-family: 'Poppins', sans-serif;
        padding: 1rem;
      }
      .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }
      .info-row h4 { margin: 0; }
      .info-row button {
        background: transparent;
        border: none;
        color: #e74c3c;
        cursor: pointer;
        font-size: 0.9rem;
      }
      .info-row button:hover { text-decoration: underline; }
    </style>
  </head>
  <body>
    <!-- SIDEBAR -->
    <aside id="sidebar">
  <button id="sidebarClose" class="sidebar-close">√ó</button>
  <div class="sidebar-section">
    <button onclick="location.href='login.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üîí</span> Admin Login
    </button>
    <button onclick="location.href='cart.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üõí</span> Cek Keranjang
    </button>
    <button onclick="location.href='testimoni.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">‚≠ê</span> Testimoni
    </button>
    <button onclick="location.href='promo.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üè∑Ô∏è</span> Diskon Produk
    </button>
    <button onclick="location.href='komentar.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üí¨</span> Komentar/Ratting
    </button>
    <button onclick="location.href='contact.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">‚úâÔ∏è</span> Contact Admin
    </button>   
    <button onclick="location.href='visitor.html'" class="btn btn-primary sidebar-btn">
          <span class="icon">üë•</span> Static Pengunjung
        </button>
    <button onclick="location.href='donasi.html'" class="btn btn-primary sidebar-btn active">
          <span class="icon">üíñ</span> Donasi
        </button>       
    <button onclick="location.href='tools.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üõ†Ô∏è</span> Tools
    </button>        
    <button onclick="location.href='service.html'" class="btn btn-primary sidebar-btn">
      <span class="icon">üìú</span> Terms of Service
    </button>        
  </div>
</aside>

    <!-- HEADER -->
    <header class="site-header">
      <div class="container">
        <button id="sidebarToggle" class="sidebar-toggle">‚ò∞</button>
        <div class="header-left">
          <h1 class="logo">„Ç™ KOMENTAR PUBLIK</h1>
        </div>
        <div class="header-center">
          <input
            type="text"
            id="searchInput"
            placeholder="Cari produk..."
            autocomplete="off"
          />
        </div>
        <div class="header-right">
          <button
            id="darkModeToggle"
            class="dark-toggle"
            title="Toggle Dark Mode"
          >
            <div class="toggle-track">
              <span class="icon-sun">‚òÄÔ∏è</span>
              <span class="icon-moon">üåô</span>
            </div>
          </button>
          <button id="openCartBtn" class="icon-btn" title="Keranjang">üè†      
          </button>
        </div>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="container" style="flex-direction: column; align-items: stretch; padding-top: 2rem;">
      <h2>Daftar Komentar</h2>
      <div id="commentsList" class="form-container" style="max-height: 400px; overflow-y: auto;">
        <p id="loadingText">Memuat komentar‚Ä¶</p>
      </div>

      <div class="form-container" style="margin-top: 2rem;">
        <h3>Tambah Komentar Anda</h3>
        <form id="commentForm">
          <div class="form-group">
            <label for="username">Nama Anda:</label>
            <input type="text" id="username" name="username" placeholder="Masukkan nama Anda" required />
          </div>

          <div class="form-group">
            <label>Rating:</label>
            <div class="rating-input">
              <input type="radio" id="star5" name="rating" value="5" required />
              <label for="star5" title="5 bintang">‚òÖ</label>
              <input type="radio" id="star4" name="rating" value="4" />
              <label for="star4" title="4 bintang">‚òÖ</label>
              <input type="radio" id="star3" name="rating" value="3" />
              <label for="star3" title="3 bintang">‚òÖ</label>
              <input type="radio" id="star2" name="rating" value="2" />
              <label for="star2" title="2 bintang">‚òÖ</label>
              <input type="radio" id="star1" name="rating" value="1" />
              <label for="star1" title="1 bintang">‚òÖ</label>
            </div>
          </div>

          <div class="form-group">
            <label for="commentText">Komentar:</label>
            <textarea id="commentText" name="commentText" placeholder="Tulis komentar Anda di sini‚Ä¶" required></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Kirim Komentar</button>
          </div>
        </form>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container">
        <p>¬© 2025 YUDZXML Allright Reserved</p>
      </div>
    </footer>

    <script>
      function _0x545c(){const _0x5e0012=['button','appendChild','href','1490oGaaSM','remove','#777','italic','4505034ybYhlj','preventDefault','2833735uqivMz','created_at','sidebarToggle','2817395BrOixi','3990474OMxlTH','trim','DELETE','POST','style','span','dark-mode','getElementById','classList','darkModeToggle','createElement','Memuat\x20komentar‚Ä¶','ceil','now','setItem','32URtMAi','lastCommentTime_','813332lDTGFQ','loadingText','card-testimoni','Berhasil\x20Mengirimkan\x20Komentar','application/json','getItem','medium','toLocaleString','textContent','stringify','length','innerHTML','Tunggu\x20','open','commentText','index.html','sidebarClose','onclick','currentUser','addEventListener','<p>Belum\x20ada\x20komentar.</p>','value','sidebar','star-rating','content','add','Yakin\x20hapus\x20komentar\x20ini?','append','body','checked','Gagal\x20kirim:\x20','\x20detik\x20sebelum\x20komentar\x20lagi.','commentsList','id-ID','div','8942013cugavi','location','json','rating','commentForm','statusText','message','click','short','forEach','1579tkHbtl'];_0x545c=function(){return _0x5e0012;};return _0x545c();}const _0x16176e=_0x4f89;(function(_0x8ada74,_0x49ad91){const _0x4ce724=_0x4f89,_0x145ef5=_0x8ada74();while(!![]){try{const _0x40ca84=-parseInt(_0x4ce724(0x7b))/0x1*(parseInt(_0x4ce724(0x7f))/0x2)+-parseInt(_0x4ce724(0x83))/0x3+-parseInt(_0x4ce724(0x9a))/0x4+-parseInt(_0x4ce724(0x85))/0x5+parseInt(_0x4ce724(0x89))/0x6+-parseInt(_0x4ce724(0x88))/0x7+-parseInt(_0x4ce724(0x98))/0x8*(-parseInt(_0x4ce724(0x71))/0x9);if(_0x40ca84===_0x49ad91)break;else _0x145ef5['push'](_0x145ef5['shift']());}catch(_0x32ef68){_0x145ef5['push'](_0x145ef5['shift']());}}}(_0x545c,0xc08e5));const sidebar=document['getElementById'](_0x16176e(0xb0)),sidebarToggle=document[_0x16176e(0x90)](_0x16176e(0x87)),sidebarClose=document[_0x16176e(0x90)](_0x16176e(0xaa)),openCartBtn=document['getElementById']('openCartBtn');sidebarToggle[_0x16176e(0xad)](_0x16176e(0x78),()=>sidebar[_0x16176e(0x91)][_0x16176e(0xb3)](_0x16176e(0xa7))),sidebarClose[_0x16176e(0xad)]('click',()=>sidebar[_0x16176e(0x91)][_0x16176e(0x80)](_0x16176e(0xa7))),document[_0x16176e(0x90)](_0x16176e(0x92))[_0x16176e(0xad)](_0x16176e(0x78),()=>document[_0x16176e(0xb6)]['classList']['toggle'](_0x16176e(0x8f))),openCartBtn[_0x16176e(0xad)]('click',()=>window[_0x16176e(0x72)][_0x16176e(0x7e)]=_0x16176e(0xa9));function _0x4f89(_0x6fcc43,_0x4303ff){const _0x545c12=_0x545c();return _0x4f89=function(_0x4f896b,_0x10df88){_0x4f896b=_0x4f896b-0x6f;let _0x3d5454=_0x545c12[_0x4f896b];return _0x3d5454;},_0x4f89(_0x6fcc43,_0x4303ff);}const BASE_API_URL='/api',COMMENTS_ENDPOINT=BASE_API_URL+'/comments';function createCommentElement({id:_0x569500,username:_0xbb5af1,text:_0x18012a,rating:_0x5b3872,created_at:_0x56b61f}){const _0x4d199f=_0x16176e,_0x5b65a5=document[_0x4d199f(0x93)](_0x4d199f(0x70));_0x5b65a5[_0x4d199f(0x91)][_0x4d199f(0xb3)](_0x4d199f(0x9c));const _0x355731=document[_0x4d199f(0x93)](_0x4d199f(0x70));_0x355731['classList'][_0x4d199f(0xb3)](_0x4d199f(0xb2));const _0x4563ec=document[_0x4d199f(0x93)]('div');_0x4563ec[_0x4d199f(0x91)][_0x4d199f(0xb3)]('info-row');const _0x232eb2=document['createElement']('h4');_0x232eb2['textContent']=_0xbb5af1;const _0x39b653=document[_0x4d199f(0x93)]('span');_0x39b653[_0x4d199f(0xa2)]=new Date(_0x56b61f)[_0x4d199f(0xa1)](_0x4d199f(0x6f),{'dateStyle':_0x4d199f(0xa0),'timeStyle':_0x4d199f(0x79)}),_0x39b653[_0x4d199f(0x8d)]['fontStyle']=_0x4d199f(0x82),_0x39b653[_0x4d199f(0x8d)]['color']=_0x4d199f(0x81),_0x4563ec[_0x4d199f(0xb5)](_0x232eb2,_0x39b653);const _0x2d9dea=localStorage['getItem'](_0x4d199f(0xac));if(_0x2d9dea===_0xbb5af1){const _0x547465=document[_0x4d199f(0x93)](_0x4d199f(0x7c));_0x547465['textContent']='Hapus',_0x547465[_0x4d199f(0xab)]=async()=>{const _0x1b043f=_0x4d199f;if(!confirm(_0x1b043f(0xb4)))return;try{const _0x11055d=await fetch(COMMENTS_ENDPOINT+'/'+_0x569500,{'method':_0x1b043f(0x8b)});if(!_0x11055d['ok'])throw new Error(_0x11055d['statusText']);fetchComments();}catch(_0x287ce7){alert('Error\x20menghapus:\x20'+_0x287ce7[_0x1b043f(0x77)]);}},_0x4563ec['appendChild'](_0x547465);}const _0x4d511f=document[_0x4d199f(0x93)](_0x4d199f(0x70));_0x4d511f[_0x4d199f(0x91)]['add'](_0x4d199f(0xb1));for(let _0x93160f=0x1;_0x93160f<=0x5;_0x93160f++){const _0x161079=document[_0x4d199f(0x93)](_0x4d199f(0x8e));_0x161079[_0x4d199f(0xa2)]=_0x93160f<=_0x5b3872?'‚òÖ':'‚òÜ';if(_0x93160f>_0x5b3872)_0x161079[_0x4d199f(0x91)][_0x4d199f(0xb3)]('empty');_0x4d511f[_0x4d199f(0x7d)](_0x161079);}const _0xc510b4=document[_0x4d199f(0x93)]('p');return _0xc510b4[_0x4d199f(0xa2)]=_0x18012a,_0x355731[_0x4d199f(0xb5)](_0x4563ec,_0x4d511f,_0xc510b4),_0x5b65a5[_0x4d199f(0x7d)](_0x355731),_0x5b65a5;}async function fetchComments(){const _0x128d79=_0x16176e,_0x412387=document[_0x128d79(0x90)](_0x128d79(0xba)),_0x2a5959=document['getElementById'](_0x128d79(0x9b));_0x2a5959['textContent']=_0x128d79(0x94);try{const _0x4a74a0=await fetch(COMMENTS_ENDPOINT);if(!_0x4a74a0['ok'])throw new Error(_0x4a74a0[_0x128d79(0x76)]);const _0x58bdbc=await _0x4a74a0[_0x128d79(0x73)]();_0x58bdbc['sort']((_0x48ca36,_0x235558)=>new Date(_0x235558[_0x128d79(0x86)])-new Date(_0x48ca36[_0x128d79(0x86)])),_0x412387['innerHTML']='';if(!_0x58bdbc[_0x128d79(0xa4)]){_0x412387['innerHTML']=_0x128d79(0xae);return;}_0x58bdbc[_0x128d79(0x7a)](_0x2d2673=>_0x412387[_0x128d79(0x7d)](createCommentElement(_0x2d2673)));}catch(_0x164908){_0x412387[_0x128d79(0xa5)]='<p\x20style=\x22color:red;\x22>'+_0x164908[_0x128d79(0x77)]+'</p>';}}async function postComment(_0x3d0d4f){const _0x50cf03=_0x16176e;_0x3d0d4f[_0x50cf03(0x84)]();const _0x623615=document[_0x50cf03(0x90)]('username'),_0x4e4e63=document[_0x50cf03(0x90)](_0x50cf03(0xa8)),_0x1a4fe4=document['getElementsByName'](_0x50cf03(0x74)),_0x5ce530=_0x623615[_0x50cf03(0xaf)][_0x50cf03(0x8a)](),_0x5c6dd5=_0x4e4e63[_0x50cf03(0xaf)][_0x50cf03(0x8a)]();let _0xda3cb5=null;_0x1a4fe4['forEach'](_0x42bdaf=>{const _0x241a0a=_0x50cf03;if(_0x42bdaf[_0x241a0a(0xb7)])_0xda3cb5=Number(_0x42bdaf[_0x241a0a(0xaf)]);});if(!_0x5ce530||!_0x5c6dd5||_0xda3cb5===null)return alert('Nama,\x20rating,\x20dan\x20komentar\x20harus\x20diisi.');const _0x5277b4=Date[_0x50cf03(0x96)](),_0x3038ff=localStorage[_0x50cf03(0x9f)](_0x50cf03(0x99)+_0x5ce530);if(_0x3038ff&&_0x5277b4-Number(_0x3038ff)<0xea60){const _0x52ff6d=Math[_0x50cf03(0x95)]((0xea60-(_0x5277b4-Number(_0x3038ff)))/0x3e8);return alert(_0x50cf03(0xa6)+_0x52ff6d+_0x50cf03(0xb9));}try{const _0x502a61={'username':_0x5ce530,'text':_0x5c6dd5,'rating':_0xda3cb5},_0x19f9d7=await fetch(COMMENTS_ENDPOINT,{'method':_0x50cf03(0x8c),'headers':{'Content-Type':_0x50cf03(0x9e)},'body':JSON[_0x50cf03(0xa3)](_0x502a61)});if(!_0x19f9d7['ok'])throw new Error(_0x19f9d7[_0x50cf03(0x76)]);localStorage[_0x50cf03(0x97)](_0x50cf03(0x99)+_0x5ce530,_0x5277b4),localStorage['setItem'](_0x50cf03(0xac),_0x5ce530),_0x623615[_0x50cf03(0xaf)]='',_0x4e4e63[_0x50cf03(0xaf)]='',_0x1a4fe4['forEach'](_0x54098a=>_0x54098a[_0x50cf03(0xb7)]=![]),fetchComments(),alert(_0x50cf03(0x9d));}catch(_0x29b1d3){alert(_0x50cf03(0xb8)+_0x29b1d3[_0x50cf03(0x77)]);}}document[_0x16176e(0xad)]('DOMContentLoaded',()=>{const _0xfad5ed=_0x16176e;fetchComments(),document[_0xfad5ed(0x90)](_0xfad5ed(0x75))[_0xfad5ed(0xad)]('submit',postComment);});
    </script>
  </body>
</html>